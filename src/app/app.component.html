<app-muti-step-form [formData]="step_form"
                    (nextAction)="setFormData($event)" 
                    (finishAction)="finishAction($event)">
  <ng-template let-step_content let-nextStepHandle="nextStepHandle">
      <div appFormStep id='1'>
          <div class="form-wrapper">
            <h5>{{step_content.title}}</h5>
            
            <form #f="ngForm">
              <div class="form-group">
                <label class="form-label" for="name">Name</label>
                <input class="form-input" [ngClass]="{'is-error': name.invalid && (name.dirty || name.touched)}" type="text" id="name" name="name" [ngModel]="step_content.data.name" #name="ngModel" placeholder="Name" required>
                
              </div>
              <div class="form-group">
                <label class="form-label" for="age">Age</label>
                <input class="form-input" [ngClass]="{'is-error': age.invalid && (age.dirty || age.touched)}" name="age" [ngModel]="step_content.data.age" type="number" id="age" #age="ngModel" placeholder="Age" required>
              </div>
            </form>
            <button class="btn btn-success" [disabled]="f.invalid" (click)="nextStepHandle(f.value)">Next</button>
        </div>
      </div>
  </ng-template>

  <ng-template let-step_content let-nextStepHandle="nextStepHandle" let-backStepHandle="backStepHandle">
      <div appFormStep id='2'>
        <div class="form-wrapper">
          <h5>{{step_content.title}}</h5>
          <form #f="ngForm">
            <div class="form-group">
            <label class="form-label" for="company">Company</label>
            <input class="form-input" [ngModel]="step_content.data.address" #address="ngModel" type="text" name="address" id="company" required placeholder="Company" required [ngClass]="{'is-error': address.invalid && (address.touched || address.dirty)}">
          </div>
          </form>  
          <button class="btn btn-error" (click)="backStepHandle()">Back</button>
          <button class="btn btn-success" [disabled]="f.invalid" (click)="nextStepHandle({address: address.value})">Next</button>
        </div>
      </div>
  </ng-template>

  <ng-template let-step_content>
      <div appFormStep id='3'>
        <div class="form-wrapper">
          <h5>{{step_content.title}}</h5>
          <div class="form-group">
            <div class="form-group">
              <label class="form-label" for="desc">Description</label>
              <textarea class="form-input" 
                        id="desc" 
                        placeholder="Textarea" rows="3"></textarea>
            </div>
          </div>
          
          <button class="btn btn-error">Back</button>
          <button class="btn btn-success">Finish</button>
        </div>
      </div>
  </ng-template>
</app-muti-step-form>